<!DOCTYPE html><html lang="en" data-reactroot=""><head><title data-react-helmet="true"></title><link rel="preload" as="script" href="/routeInfo.dV8F.js"/><link rel="preload" as="script" href="/bootstrap.4fcadcc5.js"/><link rel="preload" as="script" href="/templates/src/containers/Fold.007ed810.js"/><link rel="preload" as="script" href="/main.baacc037.js"/><meta charSet="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><style type="text/css" data-styled-components="" data-styled-components-is-local="false">/* sc-component-id: sc-global-2108869360 */
body{font-family:'HelveticaNeue-Light','Helvetica Neue Light','Helvetica Neue',Helvetica,Arial, 'Lucida Grande',sans-serif;font-weight:300;font-size:16px;margin:0;padding:0;}
</style><style type="text/css" data-styled-components="gNeTLX hFfLsm kBPsnT bWyBul iVyuLT hRbknE fWPVSa dIvdVN kkhzLV gRryPd fPQATV kwHqml gTuDub jIWnpL hvmnhZ jAyQbz jLiasa lhSnNR" data-styled-components-is-local="true">/* sc-component-id: App__AppStyles-bwFHHi */

.gNeTLX a{-webkit-text-decoration:none;text-decoration:none;color:#108db8;font-weight:bold;}
.gNeTLX nav{width:100%;background:#108db8;}
.gNeTLX nav a{color:white;padding:1rem;display:inline-block;}
.gNeTLX .content{padding:1rem;}
.gNeTLX img{max-width:100%;}
/* sc-component-id: Row__Div-idqNlo */

/* sc-component-id: Body__Div-dfFhLB */

/* sc-component-id: Row-ciskzD */

.kkhzLV{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;cursor:pointer;}
/* sc-component-id: Row__Cell-GThov */

.gRryPd{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;width:50%;}
/* sc-component-id: Row__Unique-hCjraR */

.fPQATV{white-space:nowrap;margin:0;padding:4px;}
/* sc-component-id: Row__Common-dDweTH */

.kwHqml{white-space:nowrap;color:#4CAF50;margin:0;padding:4px;}
/* sc-component-id: Header__Div-gliAeY */

.kBPsnT{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;}
/* sc-component-id: Header__Cell-eNqRfz */

.bWyBul{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;width:50%;}
/* sc-component-id: Header__H1-fHZCty */

.iVyuLT{float:center;text-align:center;cursor:pointer;}
/* sc-component-id: Body__Header-etFsqE */

.fWPVSa{float:center;text-align:center;margin:0;border:4px solid #4CAF50;background-color:#4CAF50;color:white;}
/* sc-component-id: Fold__Div-hKhxke */

.hFfLsm{font-family:'Inconsolata',monospace;}
/* sc-component-id: Fold__Table-bWUGIy */

.jAyQbz{width:100%;table-layout:fixed;border-spacing:0;}
/* sc-component-id: Fold__TableRow-ifmHOZ */

.jLiasa:nth-child(even){background-color:#f2f2f2;}
/* sc-component-id: Fold__CodeSpan-hNRsvL */

.lhSnNR{float:left;text-align:left;white-space:pre;}
/* sc-component-id: Fold__H1-jCOKnA */

.gTuDub{float:center;text-align:center;}
/* sc-component-id: Fold__H2-fojQHf */

.jIWnpL{float:center;text-align:center;margin:0;border:4px solid #4CAF50;background-color:#4CAF50;color:white;}
/* sc-component-id: Fold__H3-gZYHWG */

.hvmnhZ{float:center;text-align:center;margin:0;background-color:#4CAF50;color:white;}
</style></head><body><div id="root"><div class="App__AppStyles-bwFHHi gNeTLX" data-reactroot=""><nav><a class="active" aria-current="true" href="/">Home</a><a aria-current="false" href="/algebra">Algebra</a><a class="active" aria-current="true" href="/fold">Fold</a><a aria-current="false" href="/links">Links</a></nav><div class="content"><div class="Fold__Div-hKhxke hFfLsm"><div class="Header__Div-gliAeY kBPsnT"><div class="Header__Cell-eNqRfz bWyBul"><h1 class="Header__H1-fHZCty iVyuLT">Fold</h1></div><div class="Header__Cell-eNqRfz bWyBul"><h1 class="Header__H1-fHZCty iVyuLT">Unfold</h1></div></div><p>Folds are recognizable to most programmers as MapReduce. However, the full power of folds and their neglected sibling unfold is likely unharnessed by most programmers. This chart is meant to express dualities and correlations in a succinct manner, though you may drill down in any section by clicking for context.</p><div class="Body__Div-dfFhLB hRbknE"><h2 class="Body__Header-etFsqE fWPVSa">Naturals</h2><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(NatF a → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(Nat → a)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → NatF a) →</pre><pre class="Row__Common-dDweTH kwHqml">(a → Nat)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(Maybe a → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(Nat → a)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → Maybe a) →</pre><pre class="Row__Common-dDweTH kwHqml">(a → Nat)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a + 1 → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(Nat → a)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → a + 1) →</pre><pre class="Row__Common-dDweTH kwHqml">(a → Nat)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → a) × (1 → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(Nat → a)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → 1) × (a → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(a → Nat)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → a) → (1 → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(Nat → a)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → 1) → (a → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(a → Nat)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → a) → a →</pre><pre class="Row__Common-dDweTH kwHqml">(Nat → a)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV"></pre><pre class="Row__Common-dDweTH kwHqml">(a → Nat)</pre></div></div></div></div><div class="Body__Div-dfFhLB hRbknE"><h2 class="Body__Header-etFsqE fWPVSa">Lists</h2><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(ListF a b → b) →</pre><pre class="Row__Common-dDweTH kwHqml">([a] → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → ListF a b) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → [a])</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(Maybe (a × b) → b) →</pre><pre class="Row__Common-dDweTH kwHqml">([a] → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → Maybe (a × b)) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → [a])</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">((a × b) + 1 → b) →</pre><pre class="Row__Common-dDweTH kwHqml">([a] → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → (a × b) + 1) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → [a])</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a × b → b) × (1 → b) →</pre><pre class="Row__Common-dDweTH kwHqml">([a] → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → 1) × (b → a × b) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → [a])</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a × b → b) → (1 → b) →</pre><pre class="Row__Common-dDweTH kwHqml">([a] → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → 1) → (b → a × b) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → [a])</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a × b → b) → b →</pre><pre class="Row__Common-dDweTH kwHqml">([a] → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV"></pre><pre class="Row__Common-dDweTH kwHqml">(b → [a])</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(a → b → b) → b →</pre><pre class="Row__Common-dDweTH kwHqml">([a] → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV"></pre><pre class="Row__Common-dDweTH kwHqml">(b → [a])</pre></div></div></div></div><div class="Body__Div-dfFhLB hRbknE"><h2 class="Body__Header-etFsqE fWPVSa">Trees</h2><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(TreeF a b → b) →</pre><pre class="Row__Common-dDweTH kwHqml">(T a → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → TreeF a b) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → T a)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(Either a (b × b) → b) →</pre><pre class="Row__Common-dDweTH kwHqml">(T a → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → Either a (b × b)) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → T a)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">((b × b) + a → b) →</pre><pre class="Row__Common-dDweTH kwHqml">(T a → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → (b × b) + a) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → T a)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b × b → b) × (a → b) →</pre><pre class="Row__Common-dDweTH kwHqml">(T a → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → b x b) × (b → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → T a)</pre></div></div></div><div class="Row__Div-idqNlo dIvdVN"><div class="Row-ciskzD kkhzLV"><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → b → b) → (a → b) →</pre><pre class="Row__Common-dDweTH kwHqml">(T a → b)</pre></div><div class="Row__Cell-GThov gRryPd"><pre class="Row__Unique-hCjraR fPQATV">(b → b → b) → (b → a) →</pre><pre class="Row__Common-dDweTH kwHqml">(b → T a)</pre></div></div></div></div><h1 class="Fold__H1-jCOKnA gTuDub">Hylomorphisms</h1><p>hylo f g = fold f . unfold g = unfold g ; fold f</p><h2 class="Fold__H2-fojQHf jIWnpL">factorial :: Nat → Nat</h2><h3 class="Fold__H3-gZYHWG hvmnhZ">factorial = hylo f g</h3><table class="Fold__Table-bWUGIy jAyQbz"><tbody><tr class="Fold__TableRow-ifmHOZ jLiasa"><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">f :: Maybe (Nat, Nat) → Nat
f Just b = a → a * b
f Nothing = a → a</span></th><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">g :: Nat → Maybe (Nat, Nat)
g 0 = Nothing
g n = Just (n, n - 1)</span></th></tr><tr class="Fold__TableRow-ifmHOZ jLiasa"><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">f :: ListF Nat Nat → Nat
f ConsF a b : a * b
f NilF : 1</span></th><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">g :: Nat → ListF Nat Nat
g 0 : NilF
g n : ConsF n (n - 1)</span></th></tr></tbody></table><h3 class="Fold__H3-gZYHWG hvmnhZ">parallelFactorial n = hylo f g (1, n)</h3><table class="Fold__Table-bWUGIy jAyQbz"><tbody><tr class="Fold__TableRow-ifmHOZ jLiasa"><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">f :: Tree Nat (Nat, Nat) → Nat
f Branch a b = a * b
f Leaf a = a</span></th><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">g :: (Nat, Nat) → Tree Nat (Nat, Nat)
g (a, b) = case
  (a &gt; b) : Leaf 1
  (a = b) : Leaf a
  (a &lt; b) : Branch (a, avg) (avg + 1, b)
    where avg = (a + b) / 2</span></th></tr></tbody></table><h2 class="Fold__H2-fojQHf jIWnpL">fibonacci :: Nat → Nat</h2><h3 class="Fold__H3-gZYHWG hvmnhZ">fibonacci = hylo f g</h3><table class="Fold__Table-bWUGIy jAyQbz"><tbody><tr class="Fold__TableRow-ifmHOZ jLiasa"><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">f :: Tree Nat (Nat, Nat) → Nat
f Branch a b = a + b
f Leaf a = a</span></th><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">g :: Nat → Tree Nat (Nat, Nat)
g 0 : Leaf 0
g 1 : Leaf 1
g n : Branch (n - 1) (n - 2)</span></th></tr></tbody></table><h3 class="Fold__H3-gZYHWG hvmnhZ">fibonacci = unfold g (0, 1)</h3><table class="Fold__Table-bWUGIy jAyQbz"><tbody><tr class="Fold__TableRow-ifmHOZ jLiasa"><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">TODO: get at index</span></th><th><span class="Fold__CodeSpan-hNRsvL lhSnNR">g :: (Nat, Nat) → Maybe (Nat, (Nat, Nat))
g (a, b) = Just (a + b, (b, a + b)))</span></th></tr></tbody></table><h1 class="Fold__H1-jCOKnA gTuDub">References</h1><p><a>https://en.wikipedia.org/wiki/F-algebra</a></p><p><a>http://conal.net/talks/folds-and-unfolds.pdf</a></p><p><a>https://en.wikipedia.org/wiki/Hylomorphism_(computer_science)</a></p><p><a>https://gist.github.com/yuwki0131/db2dcc08d8b6b086d055182dc32c0300</a></p><p>CHARITABLE THOUGHTS by Robin Cockett</p></div></div></div></div><script type="text/javascript">
                window.__routeData = {"path":"/fold","propsMap":{},"initialProps":{},"siteData":{"title":"React Static"}};</script><script defer="" type="text/javascript" src="/bootstrap.4fcadcc5.js"></script><script defer="" type="text/javascript" src="/templates/src/containers/Fold.007ed810.js"></script><script defer="" type="text/javascript" src="/main.baacc037.js"></script></body></html>